<html>
    <head>
        <link rel="stylesheet" href="css/cart-style.css" />
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <div class="cart-items">
        </div>
        <script src="js/jquery.min.js"></script>
        <script src="js/backbone-events.js"></script>
        <script src="js/astro.js"></script>
        <script>
            var updateCartItems = function() {
                var cart = JSON.parse(localStorage.getItem("cart")) || [];

                var item;
                var $cartItems = $('.cart-items');
                $cartItems.empty();
                for (var i = 0, length = cart.length; i < cart.length; i++) {
                    item = cart[i];

                    $cartItems.append('<div class="cart-item">' +
                        '<div class="item-name">' + item.item + '</div>' +
                        '<div class="image"><img src="' + item.image + '" /></div>' +
                        '</div>');
                }
            };

            window.addEventListener('storage', updateCartItems);

            updateCartItems();

        </script>
    </body>
</html>
